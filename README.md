# Shift Management App

シフト管理を効率化するWebアプリケーションです。個人のシフト登録・管理から、チーム全体の月間シフト表まで一元管理できます。

## 🌟 主な機能

### 👤 個人シフト管理
- **シフト登録**: 日時を指定してシフトを簡単登録
- **時間記憶**: 前回入力した時間を自動で保持
- **重複防止**: 同じ日時の重複登録を自動でブロック
- **過去シフト管理**: 1年間のシフト履歴を保持・編集可能

### 📅 月間シフト表
- **全スタッフ表示**: チーム全員のシフトを一覧表示
- **月選択**: 任意の年月のシフト表を表示
- **人数カウント**: 各日の出勤者数を自動計算
- **不足日表示**: 人手不足の日を視覚的にハイライト

### 🔐 認証・セキュリティ
- **ログイン機能**: セッション管理による認証
- **アクセス制御**: 認証必須ページの保護

## 🚀 セットアップ

### 必要環境
- Node.js (v14以上推奨)
- npm



## 📱 使い方

### 初回ログイン
以下のテストアカウントでログインできます：

| ユーザー名 | パスワード |
|------------|------------|
| user1      | sample     |
| taro       | yamada     |
| hanako     | flower     |
| sachiko    | happy      |

### シフト登録
1. ログイン後、「Add new shift」からシフトを登録
2. 日時を選択して「Add Shift」をクリック
3. 時間は前回入力値が自動で設定される

### 月間シフト表
1. ナビゲーションから「Schedule」をクリック
2. 年・月を選択して「表示」ボタンをクリック
3. 全スタッフのシフトと人数不足日を確認

## 🛠️ 技術スタック

- **Backend**: Node.js + Express.js
- **Frontend**: EJS + Vanilla JavaScript
- **Database**: SQLite3
- **Session**: express-session
- **Styling**: CSS

## 📁 プロジェクト構造

```
shift-app/
├── index.js              # メインサーバーファイル
├── package.json           # 依存関係定義
├── db.sqlite             # SQLiteデータベース（自動生成）
├── models/               # データベースモデル
│   ├── user.js          # ユーザー管理
│   └── shift.js         # シフト管理
├── routes/              # ルーティング
│   ├── pages.js         # ページルート
│   └── api/             # APIルート
│       ├── user.js      # ユーザーAPI
│       └── shift.js     # シフトAPI
├── views/               # EJSテンプレート
│   ├── layout.ejs       # 共通レイアウト
│   ├── login.ejs        # ログインページ
│   ├── shift.ejs        # 個人シフト管理
│   └── schedule.ejs     # 月間シフト表
└── public/              # 静的ファイル
    └── styles.css       # スタイルシート
```

## 🔧 主要機能の詳細

### データの自動削除
- 365日より古いシフトデータは自動削除
- データベースの容量を適切に管理

### シフト重複防止
- 同一ユーザーの同一日時登録をブロック
- エラーメッセージでユーザーに通知

### レスポンシブ対応
- PC・スマートフォンでの操作に対応
- 直感的なユーザーインターフェース


